// Global SCSS styles for Next.js application with Material Design 3
// This file imports and sets up the complete theme system

// Import our theme system using modern @use syntax
@use '../styles/variables' as *;
@use '../styles/md-sys-variables';
// Theme styles handled by theme-manager
@use '../styles/responsive' as resp;
@use '../styles/mixins' as mix;

// Global reset and base styles
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  font-family: $font-family-base;
  line-height: $line-height-normal;
  color-scheme: light dark;
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  background: var(--md-surface);
  color: var(--md-on-surface);
  font-family: $font-family-base;
  font-size: var(--md-sys-typescale-body-medium);
  line-height: var(--md-sys-typescale-body-medium);
  overflow-x: hidden;
  transition:
    background-color var(--md-sys-motion-duration-theme) var(--md-sys-motion-easing-emphasized),
    color var(--md-sys-motion-duration-theme) var(--md-sys-motion-easing-emphasized);
}

// Main content wrapper
main {
  width: 100vw;
  min-height: 100vh;
  position: relative;
}

// Global utility classes
.sr-only {
  @include mix.visually-hidden;
}

.container {
  @include mix.container;
}

.text-center {
  text-align: center;
}

.text-left {
  text-align: left;
}

.text-right {
  text-align: right;
}

// Responsive utilities
.hidden-mobile {
  @include resp.mobile {
    display: none !important;
  }
}

.hidden-desktop {
  @include resp.desktop {
    display: none !important;
  }
}

.visible-mobile {
  display: none !important;

  @include resp.mobile {
    display: block !important;
  }
}

.visible-desktop {
  display: none !important;

  @include resp.desktop {
    display: block !important;
  }
}

// Spacing utilities
@each $size,
  $value
    in (
      'xs': $spacing-xs,
      'sm': $spacing-sm,
      'md': $spacing-md,
      'lg': $spacing-lg,
      'xl': $spacing-xl,
      '2xl': $spacing-2xl,
      '3xl': $spacing-3xl,
      '4xl': $spacing-4xl
    )
{
  .m-#{$size} {
    margin: $value;
  }
  .mt-#{$size} {
    margin-top: $value;
  }
  .mr-#{$size} {
    margin-right: $value;
  }
  .mb-#{$size} {
    margin-bottom: $value;
  }
  .ml-#{$size} {
    margin-left: $value;
  }
  .mx-#{$size} {
    margin-left: $value;
    margin-right: $value;
  }
  .my-#{$size} {
    margin-top: $value;
    margin-bottom: $value;
  }

  .p-#{$size} {
    padding: $value;
  }
  .pt-#{$size} {
    padding-top: $value;
  }
  .pr-#{$size} {
    padding-right: $value;
  }
  .pb-#{$size} {
    padding-bottom: $value;
  }
  .pl-#{$size} {
    padding-left: $value;
  }
  .px-#{$size} {
    padding-left: $value;
    padding-right: $value;
  }
  .py-#{$size} {
    padding-top: $value;
    padding-bottom: $value;
  }
}

// Typography utilities using Material Design 3 typescale
.text-xs {
  font-size: var(--md-sys-typescale-label-small);
  line-height: var(--md-sys-typescale-label-small);
}
.text-sm {
  font-size: var(--md-sys-typescale-body-small);
  line-height: var(--md-sys-typescale-body-small);
}
.text-base {
  font-size: var(--md-sys-typescale-body-medium);
  line-height: var(--md-sys-typescale-body-medium);
}
.text-lg {
  font-size: var(--md-sys-typescale-body-large);
  line-height: var(--md-sys-typescale-body-large);
}
.text-xl {
  font-size: var(--md-sys-typescale-title-medium);
  line-height: var(--md-sys-typescale-title-medium);
}
.text-2xl {
  font-size: var(--md-sys-typescale-title-large);
  line-height: var(--md-sys-typescale-title-large);
}
.text-3xl {
  font-size: var(--md-sys-typescale-headline-small);
  line-height: var(--md-sys-typescale-headline-small);
}
.text-4xl {
  font-size: var(--md-sys-typescale-headline-medium);
  line-height: var(--md-sys-typescale-headline-medium);
}
.text-5xl {
  font-size: var(--md-sys-typescale-headline-large);
  line-height: var(--md-sys-typescale-headline-large);
}
.text-6xl {
  font-size: var(--md-sys-typescale-display-small);
  line-height: var(--md-sys-typescale-display-small);
}

.font-light {
  font-weight: $font-weight-light;
}
.font-normal {
  font-weight: $font-weight-regular;
}
.font-medium {
  font-weight: $font-weight-medium;
}
.font-semibold {
  font-weight: $font-weight-semibold;
}
.font-bold {
  font-weight: $font-weight-bold;
}

.leading-tight {
  line-height: $line-height-tight;
}
.leading-normal {
  line-height: $line-height-normal;
}
.leading-relaxed {
  line-height: $line-height-relaxed;
}

.truncate {
  @include mix.text-truncate;
}

// Flexbox utilities
.flex {
  display: flex;
}
.inline-flex {
  display: inline-flex;
}
.flex-col {
  flex-direction: column;
}
.flex-row {
  flex-direction: row;
}
.flex-wrap {
  flex-wrap: wrap;
}
.flex-nowrap {
  flex-wrap: nowrap;
}

.items-start {
  align-items: flex-start;
}
.items-center {
  align-items: center;
}
.items-end {
  align-items: flex-end;
}
.items-stretch {
  align-items: stretch;
}

.justify-start {
  justify-content: flex-start;
}
.justify-center {
  justify-content: center;
}
.justify-end {
  justify-content: flex-end;
}
.justify-between {
  justify-content: space-between;
}
.justify-around {
  justify-content: space-around;
}

.flex-1 {
  flex: 1;
}
.flex-auto {
  flex: auto;
}
.flex-none {
  flex: none;
}

// Grid utilities
.grid {
  display: grid;
}
.grid-cols-1 {
  grid-template-columns: repeat(1, minmax(0, 1fr));
}
.grid-cols-2 {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
.grid-cols-3 {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}
.grid-cols-4 {
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

.gap-xs {
  gap: $spacing-xs;
}
.gap-sm {
  gap: $spacing-sm;
}
.gap-md {
  gap: $spacing-md;
}
.gap-lg {
  gap: $spacing-lg;
}
.gap-xl {
  gap: $spacing-xl;
}

// Position utilities
.relative {
  position: relative;
}
.absolute {
  position: absolute;
}
.fixed {
  position: fixed;
}
.sticky {
  position: sticky;
}

// Border radius utilities using Material Design 3 shape system
.rounded-none {
  border-radius: var(--md-sys-shape-corner-none);
}
.rounded-xs {
  border-radius: var(--md-sys-shape-corner-extra-small);
}
.rounded-sm {
  border-radius: var(--md-sys-shape-corner-small);
}
.rounded-md {
  border-radius: var(--md-sys-shape-corner-medium);
}
.rounded-lg {
  border-radius: var(--md-sys-shape-corner-large);
}
.rounded-xl {
  border-radius: var(--md-sys-shape-corner-extra-large);
}
.rounded-full {
  border-radius: var(--md-sys-shape-corner-full);
}

// Shadow utilities using Material Design 3 elevation system
.shadow-none {
  box-shadow: var(--md-sys-elevation-level0);
}
.shadow-sm {
  box-shadow: var(--md-sys-elevation-level1);
}
.shadow {
  box-shadow: var(--md-sys-elevation-level2);
}
.shadow-md {
  box-shadow: var(--md-sys-elevation-level3);
}
.shadow-lg {
  box-shadow: var(--md-sys-elevation-level4);
}
.shadow-xl {
  box-shadow: var(--md-sys-elevation-level5);
}

// Accessibility and reduced motion
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  * {
    border-color: var(--md-outline) !important;
  }
}

// Print styles
@media print {
  * {
    background: transparent !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  body {
    font-size: 12pt;
    line-height: 1.4;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    page-break-after: avoid;
  }

  p,
  blockquote {
    orphans: 3;
    widows: 3;
  }

  blockquote,
  pre {
    page-break-inside: avoid;
  }
}
